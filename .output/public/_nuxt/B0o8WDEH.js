import h from"./BvcNtW_V.js";import k from"./C_-aeFgY.js";import P from"./CXl5LYXu.js";import{f as L,g as f,i as b,P as g,h as x,j as R,k as C,r as S,l as j,m,n as B,_ as T,q as p,s as A,v as E,S as N,T as O,x as w,L as D,y as r,z as H,o as d,c as $,b as y,w as _,A as v}from"./D1pFadSD.js";import{u as q}from"./CQ1B9svA.js";import"./qHccE6ps.js";import"./GW34aOAv.js";const z=f({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},async setup(o,e){const t=await m[o.name]().then(a=>a.default||a);return()=>p(t,o.layoutProps,e.slots)}}),F=f({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(o,e){const t=L(),a=b(g),s=a===x()?R():a,u=C(()=>{let n=r(o.name)??s.meta.layout??"default";return n&&!(n in m)&&o.fallback&&(n=r(o.fallback)),n}),l=S();e.expose({layoutRef:l});const i=t.deferHydration();if(t.isHydrating){const n=t.hooks.hookOnce("app:error",i);j().beforeEach(n)}return()=>{const n=u.value&&u.value in m,c=s.meta.layoutTransition??B;return T(O,n&&c,{default:()=>p(N,{suspensible:!0,onResolve:()=>{E(i)}},{default:()=>p(I,{layoutProps:A(e.attrs,{ref:l}),key:u.value||void 0,name:u.value,shouldProvide:!o.name,hasTransition:!!c},e.slots)})}).default()}}}),I=f({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(o,e){const t=o.name;return o.shouldProvide&&w(D,{isCurrent:a=>t===(a.meta.layout??"default")}),()=>{var a,s;return!t||typeof t=="string"&&!(t in m)?(s=(a=e.slots).default)==null?void 0:s.call(a):p(z,{key:t,layoutProps:o.layoutProps,name:t},e.slots)}}}),M={class:"document-driven-page"},X=f({__name:"document-driven",setup(o){const{page:e,layout:t}=H();return e.value,q(e),(a,s)=>{const u=h,l=k,i=P,n=F;return d(),$("div",M,[y(n,{name:r(t)||"default"},{default:_(()=>[r(e)?(d(),v(l,{key:r(e)._id,value:r(e)},{empty:_(({value:c})=>[y(u,{value:c},null,8,["value"])]),_:1},8,["value"])):(d(),v(i,{key:1}))]),_:1},8,["name"])])}}});export{X as default};
